<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="モンスターハンター ワイルズの大型モンスター情報をスタイリッシュに閲覧できるサイズ&弱点データベース。" />
  <title>モンハンワイルズ モンスターコンパス</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&family=Rajdhani:wght@500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <h1>モンハンワイルズ：モンスターサイズと弱点</h1>
  <div class="filter-controls">
    <label for="elementFilter">弱点属性でフィルター：</label>
    <select id="elementFilter">
      <option value="">すべて</option>
      <option value="fire">火</option>
      <option value="water">水</option>
      <option value="lightning">雷</option>
      <option value="ice">氷</option>
      <option value="dragon">龍</option>
    </select>
  </div>
  <div class="monster-grid" id="monsterGrid"></div>
  <div class="background-particles" id="particles"></div>

  <script>
    const weaknesses = {
      "em159_00": { name: "アジャラカン", small: 1024.63, gold: 1455.44, fire: 0, water: 3, lightning: 1, ice: 2, dragon: 1, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Ajarakan_Icon.webp.png" },
      "em160_00": { name: "アルシュベルド", small: 1483.22, gold: 2083.17, fire: 1, water: 1, lightning: 1, ice: 1, dragon: 2, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Arkveld_Icon.webp.png" },
      "em008_00": { name: "イャンクック", small: 885.14, gold: 1243.18, fire: 1, water: 2, lightning: 2, ice: 3, dragon: 0, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Yian_Kut-Ku_Icon.webp.png" },
      "em157_00": { name: "ウズ・トゥナ", small: 2651.57, gold: 3426.18, fire: 1, water: 0, lightning: 2, ice: 1, dragon: 1, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Uth_Duna_Icon.webp.png" },
      "em005_00": { name: "グラビモス", small: 1848.51, gold: 2625.72, fire: 0, water: 3, lightning: 1, ice: 2, dragon: 3, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Gravios_Icon.webp.png" },
      "em153_00": { name: "ケマトリス", small: 1094.86, gold: 1555.2, fire: 0, water: 3, lightning: 1, ice: 1, dragon: 1, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Quematrice_Icon.webp.png" },
      "em009_00": { name: "ゲリョス", small: 848.44, gold: 1205.17, fire: 3, water: 1, lightning: 0, ice: 2, dragon: 1, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Gypceros_Icon.webp.png" },
      "em071_00": { name: "ゴア・マガラ", small: 1571.65, gold: 2101.42, fire: 3, water: 0, lightning: 2, ice: 1, dragon: 2, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Gore_Magala_Icon.webp.png" },
      "em163_00": { name: "シーウー", small: 1228.74, gold: 1745.37, fire: 1, water: 1, lightning: 1, ice: 3, dragon: 0, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Xu_Wu_Icon.webp.png" },
      "em162_00": { name: "ジン・ダハド", small: 4560.89, gold: 4560.89, fire: 3, water: 1, lightning: 1, ice: 0, dragon: 1, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Jin_Dahaad_Icon.webp.png" },
      "em164_50": { name: "ゾ・シア", small: 4623.59, gold: 4623.59, fire: 1, water: 1, lightning: 1, ice: 1, dragon: 3, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Zoh_Shia_Icon.webp.png" },
      "em082_00": { name: "タマミツネ", small: 1692.62, gold: 2404.29, fire: 1, water: 0, lightning: 2, ice: 1, dragon: 2, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Mizutsune_Icon.webp.png" },
      "em152_00": { name: "チャタカブラ", small: 438.5, gold: 658.62, fire: 1, water: 1, lightning: 3, ice: 1, dragon: 0, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Chatacabra_Icon.webp.png" },
      "em150_00": { name: "ドシャグマ", small: 1223.61, gold: 1807.61, fire: 3, water: 1, lightning: 3, ice: 1, dragon: 1, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Doshaguma_Icon.webp.png" },
      "em022_00": { name: "ドドブランゴ", small: 791.44, gold: 1124.21, fire: 3, water: 1, lightning: 2, ice: 0, dragon: 0, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Blangonga_Icon.webp.png" },
      "em158_00": { name: "ヌ・エグドラ", small: 1863.39, gold: 2407.75, fire: 0, water: 3, lightning: 1, ice: 1, dragon: 0, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Nu_Udra_Icon.webp.png" },
      "em070_00": { name: "ネルスキュラ", small: 644.12, gold: 914.95, fire: 3, water: 0, lightning: 2, ice: 1, dragon: 0, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Nerscylla_Icon.webp.png" },
      "em151_00": { name: "バーラハーラ", small: 1683.1, gold: 2390.76, fire: 1, water: 0, lightning: 3, ice: 1, dragon: 1, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Balahara_Icon.webp.png" },
      "em021_00": { name: "ババコンガ", small: 925.01, gold: 1313.93, fire: 3, water: 2, lightning: 1, ice: 1, dragon: 1, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Congalala_Icon.webp.png" },
      "em161_00": { name: "ヒラバミ", small: 1460.21, gold: 1908.24, fire: 3, water: 1, lightning: 3, ice: 0, dragon: 1, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Hirabami_Icon.webp.png" },
      "em155_00": { name: "ププロポル", small: 1054.08, gold: 1497.27, fire: 1, water: 3, lightning: 1, ice: 1, dragon: 1, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Rompopolo_Icon.webp.png" },
      "em154_00": { name: "ラバラ・バリナ", small: 614.89, gold: 873.43, fire: 3, water: 0, lightning: 1, ice: 1, dragon: 0, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Lala_Barina_Icon.webp.png" },
      "em001_00": { name: "リオレイア", small: 1543.84, gold: 2192.96, fire: 0, water: 1, lightning: 2, ice: 1, dragon: 3, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Rathian_Icon.webp.png" },
      "em002_00": { name: "リオレウス", small: 1499.71, gold: 2130.27, fire: 0, water: 1, lightning: 2, ice: 1, dragon: 3, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Rathalos_Icon.webp.png" },
      "em156_00": { name: "レ・ダウ", small: 1830.8, gold: 2571.35, fire: 1, water: 2, lightning: 0, ice: 3, dragon: 1, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Rey_Dau_Icon.webp.png" },
      "em160_50": { name: "護竜アルシュベルド", small: 1666.54, gold: 1666.54, fire: 1, water: 1, lightning: 1, ice: 1, dragon: 2, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Guardian_Arkveld_Icon.webp.png" },
      "em100_51": { name: "護竜アンジャナフ亜種", small: 1448.88, gold: 2058.07, fire: 1, water: 2, lightning: 0, ice: 3, dragon: 1, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Guardian_Fulgur_Anjanath_Icon.webp.png" },
      "em113_51": { name: "護竜オドガロン亜種", small: 1222.1, gold: 1735.93, fire: 1, water: 3, lightning: 1, ice: 1, dragon: 1, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Guardian_Ebony_Odogaron_Icon.webp.png" },
      "em150_50": { name: "護竜ドシャグマ", small: 1223.61, gold: 1738.08, fire: 3, water: 1, lightning: 2, ice: 2, dragon: 2, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Guardian_Doshaguma_Icon.webp.png" },
      "em002_50": { name: "護竜リオレウス", small: 1499.71, gold: 2130.27, fire: 0, water: 1, lightning: 2, ice: 1, dragon: 3, img: "https://storage.googleapis.com/mhwilds/512px-MHWilds-Guardian_Rathalos_Icon.webp.png" }
    };

    const iconMap = {
      fire: 'https://monsterhunterwiki.org/images/thumb/e/ee/UI-Fireblight.png/21px-UI-Fireblight.png',
      water: 'https://monsterhunterwiki.org/images/thumb/4/4c/UI-Waterblight.png/18px-UI-Waterblight.png',
      lightning: 'https://monsterhunterwiki.org/images/thumb/1/1d/UI-Thunderblight.png/22px-UI-Thunderblight.png',
      ice: 'https://monsterhunterwiki.org/images/thumb/7/7e/UI-Iceblight.png/18px-UI-Iceblight.png',
      dragon: 'https://monsterhunterwiki.org/images/thumb/e/e6/UI-Dragonblight.png/16px-UI-Dragonblight.png'
    };

    const crownIcons = {
      small: 'https://monsterhunterwiki.org/images/thumb/3/3f/MHWI-Small_Crown.png/32px-MHWI-Small_Crown.png',
      gold: 'https://monsterhunterwiki.org/images/thumb/6/61/MHWI-Gold_Crown.png/32px-MHWI-Gold_Crown.png'
    };

    const elementNames = {
      fire: '火属性',
      water: '水属性',
      lightning: '雷属性',
      ice: '氷属性',
      dragon: '龍属性'
    };

    const monsterGrid = document.getElementById("monsterGrid");

    function renderMonsters(filter = "") {
      monsterGrid.innerHTML = "";
      let index = 0;
      for (const [id, m] of Object.entries(weaknesses)) {
        const elements = Object.entries(m).filter(([k, v]) => iconMap[k] && v >= 2).map(([k, v]) => ({ element: k, level: v }));
        if (filter && !elements.some(e => e.element === filter)) continue;

        const card = document.createElement("div");
        card.className = "monster-card";
        card.id = id;
        card.style.setProperty('--index', index++);
        card.innerHTML = `
          <div class="monster-card-inner">
            <div class="monster-card-front">
              <img src="${m.img}" alt="${m.name}" class="monster-image">
              <div class="monster-info">
                <div class="monster-name">${m.name}</div>
                <div class="monster-sizes">
                  <div class="size-box">
                    <img src="${crownIcons.small}" alt="small crown">
                    ${m.small}
                  </div>
                  <div class="size-box">
                    <img src="${crownIcons.gold}" alt="gold crown">
                    ${m.gold}
                  </div>
                </div>
              </div>
            </div>
            <div class="monster-card-back">
              <img src="${m.img}" alt="${m.name}" class="monster-image">
              <div class="monster-info">
                <div class="monster-name">${m.name}</div>
                <div class="weakness-icons">
                  ${elements.map(e => `
                    <div class="weakness-icon level-${e.level}">
                      <img src="${iconMap[e.element]}" alt="${e.element}">
                      <span class="tooltip">${elementNames[e.element]} (レベル ${e.level})</span>
                    </div>
                  `).join('')}
                </div>
              </div>
            </div>
          </div>
        `;
        card.addEventListener("click", () => card.classList.toggle("flipped"));
        monsterGrid.appendChild(card);
      }
    }

    // 初回レンダリング
    renderMonsters();

    // フィルター変更イベント
    document.getElementById("elementFilter").addEventListener("change", e => {
      renderMonsters(e.target.value);
    });

    // パーティクルエフェクトの生成
    function createParticles() {
      const particlesContainer = document.getElementById("particles");
      const particleCount = 30;
      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement("div");
        particle.className = "particle";
        particle.style.width = `${Math.random() * 10 + 5}px`;
        particle.style.height = particle.style.width;
        particle.style.left = `${Math.random() * 100}vw`;
        particle.style.animationDelay = `${Math.random() * 15}s`;
        particlesContainer.appendChild(particle);
      }
    }

    // パーティクル初期化
    createParticles();
  </script>
</body>
</html>
